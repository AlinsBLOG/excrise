<scroll-view 
  class="body" 
  scroll-y
  bindscrolltolower="getGoodsList" 
  bindscrolltoupper="returnTop">
<!-- 搜索结果 -->
<view>
    <!-- 用来撑起pf的盒子 -->
    <view class="mask3 bgf"  style="height: 260rpx;"></view>
    <!-- 搜索结果为无 -->
    <view class="searchNull pr " wx:if="{{searchNull}}">
        <image class="db pa" src="/images/icons/search/serachnull.png"></image>
        <text class="gray pa f12 tc">抱歉，您要的配件还未上架</text>
          <button class="searchNull_button pr" style='margin-bottom:20rpx' bindtap='goInquiry'>
            <image class="db pa" src="/images/icons/search/add.png" style='width:40rpx;height:40rpx' ></image>
            <text class="white pa f16 tc">发布询价</text>
        </button>
        <button class="searchNull_button pr" open-type='contact'  session-from="weapp" style='background:#fff'>
            <image class="db pa" style='width:40rpx;height:40rpx' src="/images/icons/search/concat.png"></image>
            <text class="white pa f16 tc" style='color:#23b123'>联系客服</text>
        </button>
    </view>
    
    <view class="mask2 pf a" wx:if="{{!filValue == 0}}" catchtap="closeMask"></view>
    <!-- 产品类型 -->
    <view class="mask pf {{fix?'b':'d'}}" wx:if="{{filValue == 2}}" catchtap="closeMask">
            <scroll-view class="goodsType pa bgf" scroll-y>
                <view wx:for="{{ list.select.type }}"  wx:key="{{index}}" class="ulLis bgf f12 tl fow {{nextType==item.id?'orange':''}}" catchtap="getNextType" id="{{item.id}}" data-text="{{item.name}}">
                {{item.name}}
                </view>
            </scroll-view>
            <scroll-view class="nextType pa bgf" scroll-y>
                <view wx:for="{{ nextTypeList }}"  wx:key="{{index}}" class="ulLis bgf f12 tl fow {{type==item.id?'orange':''}}" catchtap="changeType" id="{{item.id}}"  data-text="{{item.name}}">
                {{item.name}}
                </view>
            </scroll-view>
    </view>
    <!-- 货源 -->
    <view class="mask pf {{fix?'b':'d'}}" wx:if="{{filValue == 3}}" catchtap="closeMask">
        <view wx:for="{{ list.select.originlist }}"  wx:key="{{index}}" class="ulLis bgf f12 tl fow {{origin==index?'orange':''}}" bindtap="changeOrigin" id="{{index}}" data-text="{{item}}">
            {{item}}
        </view>
    </view>
    <!-- 默认列表布局 -->
    <view class="scroll mb20 bgf"  wx:if="{{style}}">
        <view 
          class="rec_goodsbox bb oh" 
          wx:for="{{ moreList }}" 
          wx:key="{{index}}" 
          data-text="{{item}}" 
          catchtap="goDetails">
            <image class="rec_image db fl" src="{{item.images}}"></image>
            <view class="rec_goodsinfo fl" style="z-index:0">
                <view class="rec_goodsname textoh2 f30 mb10 fow">
                 {{item.name}}
                 </view>
                <view class="rec_goodsprice price orange fow">￥{{item.price}} 
                    <text 
                      class="f12 gray oldPrice" 
                      wx:if="{{item.retail_price && item.retail_price != item.nowprice}}">￥{{item.retail_price}}</text>
                </view>
                <view class="rec_company f10 gray mt10 pr">{{item.company_title}}<text class="pa" style="right:0;">{{item.s_city}}</text></view>
            </view>
        </view>
    </view>
    <!-- 格子布局 -->
    <view class="waterfal oh pb6"  wx:if="{{!style}}">
        <view class="waterfall_box">
            <view class="waterfall_goods pr" wx:for="{{ moreList }}" wx:key="{{index}}" data-text="{{item}}" catchtap="goDetails">
                <view class="waterfall_img">
                    <image src="{{item.img_show}}"></image>
                </view>
                <view class="rec_goodsname mt10 f30 fow textoh2 p15"><text class="rec_company_label white f10" wx:for="{{item.company_label}}" wx:key="{{index}}">{{item}}</text> {{item.title}}</view>
                <view class="rec_goodstip p15">
                    <!-- 优惠XX元 -->
                    <text class="rec_goods_label f10 fow" wx:if="{{item.disparity != 0}}" wx:key="{{index}}">省{{item.disparity}}元</text>
                    <!-- 商品标签 -->
                    <text class="rec_goods_label f10 fow"   wx:for="{{item.goods_label}}" wx:key="{{index}}">{{item}}</text>
                </view>
                <view class="ml10 mt10 orange f16 p14 fow" style="width:100%;">
                    ￥{{item.nowprice}}
                    <text class="f12 gray oldPrice" wx:if="{{item.retail_price && item.retail_price != item.nowprice}}">￥{{item.retail_price}}</text>
                </view>
                <view class="rec_company f10 gray pl10 pr"><view class="textoh" style="width:70%;">{{item.company_title}}</view><view class="pa" style="right:20rpx;bottom:0;">{{item.s_city}}</view></view>
            </view>
        </view>
    </view>
    <view wx:if="{{!searchNull}}">
        <view class="page-loading" catchtap="getMoreList" wx:if="{{showMore==0}}">点击或上拉加载更多</view>
        <view class="page-loading" wx:if="{{showMore==1}}">
            <image src="/images/loading.gif"></image>
            玩命加载中...
        </view>
        <view class="page-loading" wx:if="{{showMore==2}}">已经到底啦</view>
    </view>
</view>
<!-- 搜索框 (因层级问题，放到此处)-->
<view class="pf_view pf" style="top: {{fix?'-160rpx':'0rpx'}};">
    <!-- <form > -->
        <view class="search .bgf pr a">
            <input type="text" name="key" disable class="f12 tl" placeholder="请输入商品关键词" value="{{serchinput}}"  disabled catchtap="toSearch"/>
            <image class="search_img db pa" src="/images/icons/index/search.png"></image>
            <image catchtap="emptyStr" class="empty db pa" src="/images/icons/search/empty.png" wx:if="{{!isback}}"></image>
            <button class="wechat pa bgf" bindtap="" open-type='contact'  session-from="weapp">
                <image class="db pa" src="/images/icons/search/wechat.png" ></image>
            </button>
        </view>
    <!-- </form> -->
    <!-- 排序{{fix?'a':'b'}} -->
    <view  class="options bgf flex-row pr" >
        <view class="select {{selectValue == 1 ? 'orange' : ''}}" catchtap="select1">人气</view>
        <view class="select {{selectValue == 2 ? 'orange' : ''}}" catchtap="select2">销量</view>
        <view class="select {{selectValue == 3 ? 'orange' : ''}}" catchtap="select3">新品</view>
        <view class="select pr {{selectValue > 3 ? 'orange' : ''}}" catchtap="select45">
                价格
            <view class="sort desc {{selectValue == 4 ? 'desc_active' : ''}}"></view>
            <view class="sort asc {{selectValue == 5 ? 'asc_active' : ''}}"></view>
        </view>
    </view>
    <!-- 筛选{{fix?'a':'c'}} -->
    <view class="options bgf pr" >
        <view class="filtrate fl f12 {{filValue == 1 ? 'orange' : ''}}" catchtap="filtrate1">{{filValue == 1 ? '适用机型▲' : name1+'▼'}}</view>
        <view class="filtrate fl f12 {{filValue == 2 ? 'orange' : ''}}" catchtap="filtrate2">{{filValue == 2 ? '产品类型▲' : name2+'▼'}}</view>
        <view class="filtrate fl f12 {{filValue == 3 ? 'orange' : ''}}" catchtap="filtrate3">{{filValue == 3 ? '货源▲' : name3+'▼'  }}</view>
        <view class="filtrate_img pa">
            <image class="db pa" src="/images/icons/search/{{style?'ge':'list'}}.png" catchtap="changeStyle"></image>
        </view>
    </view>
</view>
</scroll-view>
<!-- 回到顶部 -->
<view class="returnTop bgf pf" wx:if="{{showReturn}}" catchtap="returnTop">
    <image class="return_img db" src="/images/icons/index/top.png"></image>
    <view class="tc f8">顶部</view>
</view>